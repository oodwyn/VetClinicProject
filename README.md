# VetClinicProject
### Проект "Ветеринарная клиника"

Это учебный проект, созданный в рамках тестового задания. Приложение имитирует базовые функции информационной системы для ветеринарной клиники.
### Функционал

Приложение реализует следующий пользовательский сценарий:

*   **Главная страница-визитка** с выбором роли.
*   **Система "Входа" для клиентов**: можно выбрать себя из существующего списка или зарегистрировать новую карту.
*   **Личный кабинет клиента**:
    *   Просмотр личных данных.
    *   Просмотр списка своих питомцев с возможностью **добавлять** и **удалять** их.
    *   Просмотр **истории** всех прошлых и будущих визитов.
*   **Запись на приём**: форма для выбора питомца, врача и времени визита.
*   **Страницы подтверждения**: после каждого успешного действия (добавления питомца, записи на прием) пользователь видит страницу с подтверждением.

### Стек технологий

Для реализации проекта были использованы следующие инструменты и технологии:

*   **Язык программирования**: `Python 3`
*   **Веб-фреймворк**: `Flask` (для обработки веб-запросов, маршрутизации и рендеринга страниц)
*   **База данных**: `SQLite3` (реляционная файловая СУБД, входящая в стандартную библиотеку Python)
*   **Шаблонизатор**: `Jinja2` (для динамической генерации HTML-страниц)
*   **Фронтенд**: `HTML5` и `Bootstrap 5` (для создания адаптивного пользовательского интерфейса без написания CSS)

### Структура проекта

Проект построен с разделением логики на несколько слоев для лучшей читаемости и поддержки:

*   `app.py`: **Контроллер**. Основной файл Flask, который принимает HTTP-запросы от пользователя. С базой данных контактирует через класс ClinicManager.
*   `logic.py`: **Слой бизнес-логики**. Содержит класс `ClinicManager`, который создает объекты и работает с ними.
*   `models.py`: **Объектная модель**. Описывает структуру данных с помощью Python-классов (`Client`, `Patient`, `Doctor`, `Appointment`).
*   `database.py`: **Слой доступа к данным**. Единственный файл, который выполняет SQL-запросы. Он отвечает за сохранение и извлечение данных из базы.
*   `templates/`: **Представление**. Папка с HTML-шаблонами, которые видит пользователь.
*   `static/`: Папка для статичных файлов (изображения, CSS).
*   `clinic.db`: Файл базы данных SQLite.

### Установка и запуск
Для запуска проекта на локальной машине выполните следующие шаги:
1.  **Клонируйте репозиторий**:
    ```bash
    git clone <https://github.com/oodwyn/VetClinicProject.git>
    cd <VetClinicProject>
    ```

2.  **Создайте и активируйте виртуальное окружение**:
    *   Создание:
        ```bash
        python -m venv venv
        ```
    *   Активация (Windows):
        ```bash
        venv\Scripts\activate
        ```
    *   Активация (macOS/Linux):
        ```bash
        source venv/bin/activate
        ```

3.  **Установите зависимости**:
    ```bash
    pip install -r requirements.txt
    ```

4.  **Запустите приложение**:
    ```bash
    python app.py
    ```

5.  **Откройте браузер** и перейдите по адресу, который появится в консоли (обычно это `http://127.0.0.1:5000`).

При первом запуске база данных `clinic.db` будет создана и автоматически заполнена тестовыми данными (2 клиента, 2 питомца, 3 врача и история приемов).


### Схема Базы Данных (Database Schema)

Проектирование базы данных основано на реляционной модели с целью обеспечения целостности данных, минимизации избыточности и поддержки свойства соединения без потерь. Были выделены четыре ключевые сущности: `Clients`, `Patients`, `Doctors`, `Appointments`. (Клиенты, Пациенты, Врачи, Визиты)

### ER-диаграмма

Диаграмма отношения сущностей

<img src="static/assets/img.png">

### Описание таблиц и зависимостей

#### Таблица `Clients` (Клиенты)
Хранит информацию о владельцах животных.

| Поле          | Тип данных  | Описание                 | Ключ/Ограничения     |
|---------------|-------------|--------------------------|----------------------|
| `ClientID`    |INT          | Уникальный ID клиента    | **PK** (Primary Key) |
| `FullName`    | VARCHAR(255) | ФИО клиента              | NOT NULL             |
| `PhoneNumber` | VARCHAR(20) | Контактный номер телефона | NOT NULL             |

#### Таблица `Patients` (Пациенты)
Хранит информацию о питомцах. Связана с таблицей `Clients` отношением "один-ко-многим".

| Поле          | Тип данных   | Описание                 | Ключ/Ограничения |
|---------------|--------------|--------------------------|------------------|
| `PatientID`   | INT          | Уникальный ID пациента   | **PK** (Primary Key) |
| `Name`        | VARCHAR(100) | Кличка питомца           | NOT NULL         |
| `Species`     | VARCHAR(50)  | Вид (кошка, собака)      |                  |
| `Breed`       | VARCHAR(50)  | Порода                   |                  |
| `DateOfBirth` | DATE         | Дата рождения            |                  |
| `ClientID`    | INT          | ID владельца             | **FK** -> Clients(ClientID) |

#### Таблица `Doctors` (Врачи)
Справочник врачей клиники.

| Поле           | Тип данных   | Описание                | Ключ/Ограничения |
|----------------|--------------|-------------------------|------------------|
| `DoctorID`     | INT          | Уникальный ID врача     | **PK** (Primary Key) |
| `FullName`     | VARCHAR(255) | ФИО врача               | NOT NULL         |
| `Specialization` | VARCHAR(100) | Специализация врача     |                  |

#### Таблица `Appointments` (Визиты)
Связующая таблица для реализации связи "многие-ко-многим" между пациентами и врачами. 

| Поле                  | Тип данных  | Описание                     | Ключ/Ограничения |
|-----------------------|-------------|------------------------------|------------------|
| `AppointmentID`       |  INT        | Уникальный ID приема         | **PK** (Primary Key) |
| `PatientID`           | INT         | ID пациента                  | **FK** -> Patients(PatientID) |
| `DoctorID`            | INT         | ID врача                     | **FK** -> Doctors(DoctorID) |
| `AppointmentDateTime` | TIMESTAMP   | Дата и время приема          | NOT NULL         |
| `Status`              | VARCHAR(50) | Статус ('Запланирован', 'Завершен') | NOT NULL         |
| `Diagnosis`           | TEXT        | Поставленный диагноз         |                  |
| `Treatment`           | TEXT        | Назначенное лечение          |                  |

